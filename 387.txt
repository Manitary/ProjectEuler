N:=10^14;
primes:=[p: p in PrimesUpTo(N)|p gt 10];

function rtH(n)
	if n lt 10 then
		return true;
	else
		if IsDivisibleBy(n,&+Intseq(n)) then
			return rtH(n div 10);
		else
			return false;
		end if;
	end if;
end function;

function strH(n)
	if IsDivisibleBy(n, &+Intseq(n)) and IsPrime(n div &+Intseq(n)) then
		return true;
	else
		return false;
	end if;
end function;

sum:=0;
for n in primes do
	if strH(n div 10) and rtH(n div 10) then
		n;
		sum+:=n;
	end if;
end for;
"sum:",sum;